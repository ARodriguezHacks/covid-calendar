(this.webpackJsonpcovidcal=this.webpackJsonpcovidcal||[]).push([[0],{33:function(e,t,n){e.exports=n(50)},38:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var a,o=n(2),r=n.n(o),i=n(14),s=n.n(i),c=(n(38),n(12)),l=n(24),u=n(7),m=n(32),d=n(29),v=n(30),f=n(20);!function(e){e.LastCloseContact="Most Recent Close Contact",e.SymptomsStart="Illness Onset",e.PositiveTest="Most Recent Positive Test"}(a||(a={}));var p=["#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788"],g=n(31),E=n(55),h=n(51),b=n(52),S=n(53),y=n(6);function x(e,t){var n=Object(y.flow)(Object(y.map)((function(e){var t=function(e){var t=[e.covidEvents[a.SymptomsStart],e.covidEvents[a.PositiveTest]],n=Object(y.flow)(y.compact,Object(y.map)((function(e){return Object(E.a)(e,"M/dd/yyyy",new Date)})),Object(y.thru)((function(e){return Object(S.a)(e)})))(t),o=n&&Object(b.a)(n,10),r=e.noSymptomsFor24Hours?void 0:new Date;return Object(y.flow)(y.compact,Object(y.thru)((function(e){return Object(h.a)(e)})))([o,r])}(e);return Object(g.a)(t)?{person:e,endDate:t,infected:!0}:{person:e,endDate:new Date,infected:!1}})),Object(y.partition)((function(e){return e.infected})))(e),o=Object(f.a)(n,2),r=o[0],i=o[1].map((function(e){var n=e.person,o=Object(y.filter)((function(e){return e.quarantinedPerson===n.id&&e.exposed}))(t),i=Object(y.map)((function(e){var t;return e.ongoing?null===(t=r.find((function(t){return t.person.id===e.contagiousPerson})))||void 0===t?void 0:t.endDate:Object(E.a)(e.date,"M/dd/yyyy",new Date)})),s=n.covidEvents[a.LastCloseContact],l=s?Object(E.a)(s,"M/dd/yyyy",new Date):void 0,u=Object(h.a)(Object(y.compact)([].concat(Object(c.a)(i(o)),[l]))),m=Object(y.flow)(Object(y.map)((function(e){if(e.ongoing){var t,n=null===(t=r.find((function(t){return t.person.id===e.contagiousPerson})))||void 0===t?void 0:t.person;if(!(null===n||void 0===n?void 0:n.noSymptomsFor24Hours))return null===n||void 0===n?void 0:n.name}})),y.compact)(o),d=Object(b.a)(u,14);return{person:n,endDate:d,peopleWithOngoingExposureWithSymptoms:m,infected:!1}}));return[].concat(Object(c.a)(r),Object(c.a)(i))}var w=n(54),N=n(56);function O(e){var t=e.membersState.get(),n=e.eventSetterState.get();return r.a.createElement("div",{className:"p-3"},r.a.createElement("div",{className:n?"ba bw2 b--light-yellow":""},r.a.createElement(m.a,{plugins:[d.a,v.a],initialView:"dayGridMonth",events:function(e,t){return x(e,t).map((function(e){return{classNames:["TODO"],title:e.person.name,start:Object(w.a)("1970-01-01"),end:e.endDate,color:p[e.person.id-1%p.length],textColor:"#000000"}}))}(t,e.inHouseExposureEvents),dateClick:function(e){n&&n(Object(N.a)(e.date,"MM/dd/yyyy"))}})))}function j(e){var t=new RegExp("^([0-9][0-9]?/[0-9][0-9]?/)([0-9][0-9])$"),n=new RegExp("^[0-9][0-9]?/[0-9][0-9]?$");return r.a.createElement("div",{className:""},r.a.createElement("label",{htmlFor:"".concat(e.id,"-").concat(e.questionFieldName)},"Date ",r.a.createElement("span",{className:"f6 fw3"},"mm/dd/yyyy"),r.a.createElement("div",{role:"alert"},e.missing?r.a.createElement("span",{className:"f5 fw5 red"},"required"):e.invalid?r.a.createElement("span",{className:"f5 fw5 red"},"mm/dd/yyyy format required"):null)),r.a.createElement("input",{className:"form-control",value:e.questionFieldTextState.get(),name:e.questionFieldName,id:"".concat(e.id,"-").concat(e.questionFieldName),type:"text",onChange:function(t){e.onChange(t)},onFocus:e.onFocus,onBlur:function(){var a=e.questionFieldTextState.get();t.exec(a)&&(a=a.slice(0,-2)+"20"+a.slice(-2)),n.exec(a)&&(a+="/2020"),e.questionFieldTextState.set(a),e.onUnfocus()}}))}var C=n(25);function k(e){return r.a.createElement("div",{className:"custom-control custom-checkbox mb-3"},r.a.createElement("input",{className:"custom-control-input",checked:e.checked,id:"checkbox-".concat(e.id,"-").concat(e.questionText),type:"checkbox",onChange:e.onChange}),r.a.createElement(C.a,null,r.a.createElement("label",{className:"custom-control-label",htmlFor:"checkbox-".concat(e.id,"-").concat(e.questionText)},e.questionText,e.tooltip&&r.a.createElement(C.b,null,r.a.createElement("i",{"aria-hidden":"true",className:"px-1 fas fa-question-circle link hover-dark-blue gray"}))),e.tooltip&&r.a.createElement(C.c,null,r.a.createElement("div",{className:"f5 gray"},e.tooltip))))}function q(e){var t=e.inHouseExposureEventState.get(),n=t.exposed,a=t.ongoing;return r.a.createElement("div",{className:"mb-3"},r.a.createElement(k,{id:e.id,questionText:"I had close contact with ".concat(e.otherPerson.name),checked:n,onChange:function(){return e.inHouseExposureEventState.exposed.set((function(e){return!e}))}}),n&&r.a.createElement(k,{id:e.id,questionText:"My close contact with ".concat(e.otherPerson.name," is ongoing"),checked:a,onChange:function(){return e.inHouseExposureEventState.ongoing.set((function(e){return!e}))}}),n&&!a&&r.a.createElement(j,{id:e.id,questionFieldTextState:e.inHouseExposureEventState.date,questionFieldName:"crossExposure-".concat(e.index),onChange:function(t){return e.inHouseExposureEventState.date.set(t.target.value)},onFocus:function(){return e.eventSetterState.set((function(){return function(t){e.inHouseExposureEventState.date.set(t)}}))},onUnfocus:function(){return e.eventSetterState.set(void 0)},missing:t.dateMissing,invalid:t.dateInvalid}))}function P(e){return r.a.createElement(r.a.Fragment,null,e.meaningfulInHouseExposures.map((function(t,n){var a=e.relevantInHouseExposureEventsState.find((function(e){var n=e.get();return n.quarantinedPerson===t.id||n.contagiousPerson===t.id}));return a?r.a.createElement(r.a.Fragment,null,r.a.createElement(q,{key:e.id+"-"+n,id:e.id,index:n,otherPerson:t,inHouseExposureEventState:a,eventSetterState:e.eventSetterState}),r.a.createElement("hr",null)):r.a.createElement(r.a.Fragment,null)})))}function F(e){return Math.floor(Math.random()*Math.floor(e))}function H(e){return Boolean(e.covidEvents[a.PositiveTest]||e.covidEvents[a.SymptomsStart])}function T(e){var t=e.personState.get(),n=e.membersState.get(),o=e.personState.covidEvents,i=e.editingState.get(),s=e.inHouseExposureEventsState.filter((function(e){var n=e.get();return n.contagiousPerson===t.id||n.quarantinedPerson===t.id})),c=s.map((function(e){return e.get()})),l=Object(u.b)(Object.values(a).reduce((function(e,t){return e[t]=""!==o[t].get(),e}),{})),m=new RegExp("^[0-9][0-9]?/[0-9][0-9]?/[0-9][0-9][0-9][0-9]$"),d=Object(u.b)(Object.values(a).reduce((function(e,t){return e[t]=!1,e}),{})),v=Object(u.b)(Object.values(a).reduce((function(e,t){return e[t]=!1,e}),{})),p=l.get(),E=p[a.PositiveTest]||p[a.SymptomsStart],h=Object(u.b)(!1);function b(e){return function(t){var n=t.target.checked;if(l[e].set(n),e===a.PositiveTest){var r=Boolean(n||p[a.SymptomsStart]);E!==r&&O(r)}else if(e===a.SymptomsStart){var i=Boolean(n||p[a.PositiveTest]);E!==i&&O(i)}n||o[e].set("")}}function S(n,a,i){return r.a.createElement(r.a.Fragment,null,r.a.createElement(k,{id:t.id,questionText:a,checked:l[n].get(),onChange:b(n),tooltip:i}),l[n].get()&&r.a.createElement(j,{id:t.id,questionFieldTextState:o[n],questionFieldName:n,onChange:x,onFocus:function(){return e.eventSetterState.set((function(){return function(e){return o[n].set(e)}}))},onUnfocus:function(){return e.eventSetterState.set(void 0)},missing:v[n].get(),invalid:d[n].get()}))}var x=function(e){var t=e.target.name,n=e.target.value;o[t].set(n)},w=function(){Object.values(a).map((function(e){v[e].set(l.get()[e]&&""===o[e].get()),d[e].set(l.get()[e]&&""!==o[e].get()&&!Boolean(m.exec(o[e].get())))})),e.inHouseExposureEventsState.map((function(e){e.dateMissing.set(!e.ongoing.get()&&""===e.date.get()),e.dateInvalid.set(!e.ongoing.get()&&""!==e.date.get()&&!Boolean(m.exec(e.date.get())))})),Object.values(v.get()).includes(!0)||Object.values(d.get()).includes(!0)||e.inHouseExposureEventsState.map((function(e){return e.dateMissing.get()||e.dateInvalid.get()})).includes(!0)||e.editingState.set(void 0)};function O(a){s.map((function(e){return e.set(u.a)}));var o=n.map((function(e){var n=H(e);if(t!==e&&a!==n)return{contagiousPerson:a?t.id:e.id,quarantinedPerson:a?e.id:t.id,exposed:!0,ongoing:!0,date:"",dateMissing:!1,dateInvalid:!1}}));e.inHouseExposureEventsState.merge(Object(y.compact)(o))}var C=n.filter((function(e){return t!==e&&E!==H(e)}));return e.editingState.get()===t.id?r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"card shadow-sm mb-2"},r.a.createElement("div",{className:"p-2"},r.a.createElement("div",{className:"mb-3"},r.a.createElement("label",{htmlFor:"".concat(t.id,"-name")},"Name"),r.a.createElement("input",{className:"form-control",value:t.name,name:"name",id:"".concat(t.id,"-name"),type:"text",onChange:function(t){return e.personState.name.set(t.target.value)}})),r.a.createElement("div",{className:"mb-3"},S(a.LastCloseContact,"I have had close contact to someone presumed covid positive (outside the household)",r.a.createElement("div",null,"Close contact means any of the following:",r.a.createElement("ul",{className:"mx-3 mb-1"},r.a.createElement("li",null,"You were within 6 feet of them for a total of 15 minutes or more"),r.a.createElement("li",null,"You provided care at home to the person"),r.a.createElement("li",null,"You had direct physical contact with the person (hugged or kissed them)"),r.a.createElement("li",null,"You shared eating or drinking utensils"),r.a.createElement("li",null,"They sneezed, coughed, or somehow got respiratory droplets on you"))," ",r.a.createElement("a",{href:"https://www.cdc.gov/coronavirus/2019-ncov/if-you-are-sick/quarantine.html"},"Link."))),r.a.createElement("hr",null)),r.a.createElement("div",{className:"mb-3"},S(a.PositiveTest,"I have received a positive test result"),r.a.createElement("hr",null)),r.a.createElement("div",{className:"mb-3"},function(){var n=l[a.SymptomsStart].get();return r.a.createElement(r.a.Fragment,null,r.a.createElement(k,{id:t.id,questionText:"I have shown positive symptoms",checked:n,onChange:b(a.SymptomsStart),tooltip:r.a.createElement("span",null,"Consult the"," ",r.a.createElement("a",{href:"https://www.cdc.gov/coronavirus/2019-ncov/symptoms-testing/symptoms.html"},"CDC website")," ","for a common list of symptoms of Covid."," ")}),n?r.a.createElement(j,{id:t.id,questionFieldTextState:o[a.SymptomsStart],questionFieldName:a.SymptomsStart,onChange:x,onFocus:function(){return e.eventSetterState.set((function(){return function(e){return o[a.SymptomsStart].set(e)}}))},onUnfocus:function(){return e.eventSetterState.set(void 0)},missing:v[a.SymptomsStart].get(),invalid:d[a.SymptomsStart].get()}):null,r.a.createElement("div",{className:"mb-3"}),n?r.a.createElement(k,{id:t.id,questionText:"My symptoms have been improved for 24 hours.",checked:e.personState.noSymptomsFor24Hours.get(),onChange:function(){return e.personState.noSymptomsFor24Hours.set((function(e){return!e}))},tooltip:r.a.createElement("span",null,"Improved symptoms are a requirement for you to end isolation. If your symptoms improve AND you have had no fever for 24 hours without the use of medicine, check this box."," ",r.a.createElement("a",{href:"https://multco.us/novel-coronavirus-covid-19/if-you-test-positive-covid-19"},"Link.")," ")}):null)}(),r.a.createElement("hr",null)),r.a.createElement(P,{id:t.id,meaningfulInHouseExposures:C,relevantInHouseExposureEventsState:s,eventSetterState:e.eventSetterState}),r.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},r.a.createElement("button",{className:"btn btn-secondary",onClick:function(){s.map((function(e){return e.set(u.a)})),e.personState.set(u.a),e.editingState.set(void 0)}},r.a.createElement("span",{className:"visually-hidden"},"Remove"),"Remove",r.a.createElement("i",{"aria-hidden":"true",className:"pl2 fas fa-times-circle white"})),r.a.createElement("button",{className:"btn btn-primary",onClick:w},t.isNewPerson?"Submit":"Update"))))):r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"card shadow-sm mb-2"},r.a.createElement("div",{className:"card-body",onMouseEnter:function(){h.set(!0)},onMouseLeave:function(){h.set(!1)}},r.a.createElement("div",{className:""},r.a.createElement("h4",{className:"d-flex justify-content-between align-items-center"},r.a.createElement("span",{className:""},t.name+"",Object(g.a)(e.guidance.endDate)&&e.guidance.infected?" - Isolate":" - Quarantine"),r.a.createElement("span",null,!i&&r.a.createElement("button",{onClick:function(){return e.editingState.set(t.id)}},r.a.createElement("span",{className:"visually-hidden"},"Edit Person"),r.a.createElement("span",{"aria-hidden":"true",className:"f5 fas fa-pen"})))),Object(g.a)(e.guidance.endDate)&&r.a.createElement("div",{className:"p32"},function(e){var t,n=Object(N.a)(e.endDate,"MM/dd/yyyy");if(e.infected)return e.person.noSymptomsFor24Hours?"Until ".concat(n):"Until at least ".concat(n," and 24 hours after symptoms improve");if(null===(t=e.peopleWithOngoingExposureWithSymptoms)||void 0===t?void 0:t.length){var a,o=null===(a=e.peopleWithOngoingExposureWithSymptoms)||void 0===a?void 0:a.join(", ");return"Until at least ".concat(n," and 11 days after symptoms improve for ").concat(o)}return"Until ".concat(n)}(e.guidance))),r.a.createElement("div",{className:"my-3"}),h.get()&&r.a.createElement("div",{className:""},Object.entries(t.covidEvents).map((function(e){var t=Object(f.a)(e,2),n=t[0],a=t[1];if(""!==a)return r.a.createElement("div",{className:"f5"},n,": "," ",a)})),Object.values(c).map((function(e){if(e.exposed){var t,a,o=null===(t=n.find((function(t){return t.id===e.quarantinedPerson})))||void 0===t?void 0:t.name,i=null===(a=n.find((function(t){return t.id===e.contagiousPerson})))||void 0===a?void 0:a.name;return e.ongoing?r.a.createElement("div",{className:"f5"},o," has an ongoing exposure to"," ",i," "):r.a.createElement("div",{className:"f5"},o," exposed to ",i," at"," ",e.date)}}))))))}function D(e){var t=e.editingState.get(),n=x(e.membersState.get(),e.inHouseExposureEventsState.get());return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"",style:{minHeight:e.height.get()+"px"}},r.a.createElement("div",{className:"row"},e.membersState.map((function(t){var a=t.get().id,o=n.find((function(e){return e.person.id===a}));if(o)return r.a.createElement(T,{key:a,personState:t,membersState:e.membersState,inHouseExposureEventsState:e.inHouseExposureEventsState,editingState:e.editingState,eventSetterState:e.eventSetterState,guidance:o})}))),!t&&r.a.createElement("button",{className:"btn btn-lg btn-primary my-2",onClick:e.addNewPerson},r.a.createElement("i",{className:"fa fa-user-plus","aria-hidden":"true"})," Add Person")))}function M(){var e=Object(u.b)(window.innerHeight),t=function(){e.set(window.innerHeight)};Object(o.useEffect)((function(){return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]);var n=Object(u.b)([]),i=Object(u.b)([]),s=Object(u.b)(void 0),m=Object(u.b)(n.length+1),d=Object(u.b)(void 0);return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"container"},r.a.createElement("div",{className:"row my-4"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",null,"Covid Quarantine Calculator [Work in Progress]"),n.get().length?s.get()?r.a.createElement("h3",null,"Please fill out questions."):r.a.createElement("h3",null,"Here's our recommendation for your household."):r.a.createElement("h3",null,"Get quarantine and isolation guidance for your household.")),r.a.createElement("div",{className:"col-md-6"})),r.a.createElement(D,{membersState:n,inHouseExposureEventsState:i,editingState:s,eventSetterState:d,addNewPerson:function(){var e,t=m.get(),o={id:t,name:"Person ".concat(F(1e3)),covidEvents:(e={},Object(l.a)(e,a.LastCloseContact,""),Object(l.a)(e,a.SymptomsStart,""),Object(l.a)(e,a.PositiveTest,""),e),noSymptomsFor24Hours:!0,isNewPerson:!0,editing:!0};m.set((function(e){return e+1})),n.set((function(e){return[].concat(Object(c.a)(e),[o])})),s.set(t);var r=n.get().map((function(e){if(H(e))return{contagiousPerson:e.id,quarantinedPerson:o.id,exposed:!0,ongoing:!0,date:"",dateMissing:!1,dateInvalid:!1}}));i.merge(Object(y.compact)(r))},height:e}),r.a.createElement("div",{className:"my-5"}),r.a.createElement(O,{membersState:n,editing:s.get(),eventSetterState:d,inHouseExposureEvents:i.get()}),r.a.createElement("hr",null),r.a.createElement("footer",null,r.a.createElement("div",null,r.a.createElement("a",{href:"https://www.cdc.gov/coronavirus/2019-ncov/if-you-are-sick/isolation.html"},"Link")," ","to CDC guidelines on isolation."),r.a.createElement("div",{className:""},r.a.createElement("a",{href:"https://www.cdc.gov/coronavirus/2019-ncov/if-you-are-sick/quarantine.html"},"Link")," ","to CDC guidelines on quarantine."),r.a.createElement("p",null,"The guidance given in this app is based on the latest CDC guidelines for protecting yourself and others from the spread of COVID-19. The same information is available on their"," ",r.a.createElement("a",{href:"https://www.cdc.gov/coronavirus/2019-ncov/if-you-are-sick/index.html"},"COVID-19 webpage"),"."))))}var I=document.getElementById("root");s.a.render(r.a.createElement(M,null),I)}},[[33,1,2]]]);
//# sourceMappingURL=main.4278a47c.chunk.js.map