(this.webpackJsonpcovidcal=this.webpackJsonpcovidcal||[]).push([[0],{31:function(e,t,n){e.exports=n(45)},36:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var a,o=n(2),c=n.n(o),s=n(16),r=n.n(s),i=(n(36),n(12)),m=n(7),u=n(9),l=n(30),d=n(27),v=n(28),p=n(15);!function(e){e.LastCloseContact="Most Recent Close Contact",e.SymptomsStart="Illness Onset",e.SymptomsEnd="Most Recent Symptoms",e.PositiveTest="Most Recent Positive Test"}(a||(a={}));var b=n(29),E=n(49),f=n(46),g=n(47),x=n(48),h=n(6);function y(e,t){var n=Object(h.flow)(Object(h.map)((function(e){var t=function(e){var t=[e.covidEvents[a.SymptomsStart],e.covidEvents[a.PositiveTest]],n=Object(h.flow)(h.compact,Object(h.map)((function(e){return Object(E.a)(e,"M/dd/yyyy",new Date)})),Object(h.thru)((function(e){return Object(f.a)(e)})))(t),o=n&&Object(x.a)(n,10),c=e.covidEvents[a.SymptomsEnd]?Object(E.a)(e.covidEvents[a.SymptomsEnd],"M/dd/yyyy",new Date):void 0,s=c&&Object(x.a)(c,1),r=Object(h.flow)(h.compact,Object(h.thru)((function(e){return Object(g.a)(e)})))([o,s]);return[n,r]}(e),n=Object(p.a)(t,2),o=n[0],c=n[1];return Object(b.a)(c)?{person:e,startDate:o,endDate:c,infected:!0}:{person:e,startDate:new Date,endDate:new Date,infected:!1}})),Object(h.partition)((function(e){return e.infected})))(e),o=Object(p.a)(n,2),c=o[0],s=o[1].map((function(e){var n=e.person,o=Object(h.filter)((function(e){return e.quarantinedPerson===n.id&&e.exposed}))(t),s=Object(h.map)((function(e){var t;return null===(t=c.find((function(t){return t.person.id===e.contagiousPerson})))||void 0===t?void 0:t.startDate})),r=Object(h.map)((function(e){var t;return e.ongoing?null===(t=c.find((function(t){return t.person.id===e.contagiousPerson})))||void 0===t?void 0:t.endDate:Object(E.a)(e.date,"M/dd/yyyy",new Date)})),m=n.covidEvents[a.LastCloseContact],u=m?Object(E.a)(m,"M/dd/yyyy",new Date):void 0,l=Object(f.a)(Object(h.compact)([].concat(Object(i.a)(s(o)),[u]))),d=Object(g.a)(Object(h.compact)([].concat(Object(i.a)(r(o)),[u]))),v=Object(x.a)(d,14);return{person:n,startDate:l,endDate:v,infected:!1}}));return[].concat(Object(i.a)(c),Object(i.a)(s))}var S=n(50);function j(e){var t=e.membersState.get(),n=e.editingDateFieldState.get();return c.a.createElement("div",{className:"p-3"},c.a.createElement("div",{className:n?"ba bw2 b--light-yellow":""},c.a.createElement(l.a,{plugins:[d.a,v.a],initialView:"dayGridMonth",events:function(e,t){return y(e,t).map((function(e){return{classNames:["TODO"],title:e.person.name,start:e.startDate,end:e.endDate}}))}(t,e.inHouseExposureEvents),dateClick:function(t){if(e.editing&&n){var a=e.membersState.findIndex((function(t){return t.get().id===e.editing}));e.membersState[a].covidEvents[n].set(Object(S.a)(t.date,"MM/dd/yyyy"))}}})))}function O(e){var t=new RegExp("^([0-9][0-9]?/[0-9][0-9]?/)([0-9][0-9])$"),n=new RegExp("^[0-9][0-9]?/[0-9][0-9]?$");return c.a.createElement("div",{className:""},c.a.createElement("label",{htmlFor:"".concat(e.id,"-").concat(e.questionNumber)},"Date ",c.a.createElement("span",{className:"f6 fw3"},"mm/dd/yyyy")),c.a.createElement("input",{className:"form-control",value:e.questionFieldTextState.get(),name:e.questionFieldName,id:"".concat(e.id,"-").concat(e.questionNumber),type:"text",onChange:function(t){e.onChange(t)},onFocus:function(){e.onFocus(e.questionFieldName)},onBlur:function(){var a=e.questionFieldTextState.get();t.exec(a)&&(a=a.slice(0,-2)+"20"+a.slice(-2)),n.exec(a)&&(a+="/2020"),e.questionFieldTextState.set(a),e.onUnfocus(e.questionFieldName)}}))}function N(e){return c.a.createElement("div",{className:"custom-control custom-checkbox mb-3"},c.a.createElement("input",{className:"custom-control-input",checked:e.checked,id:"checkbox-".concat(e.id,"-").concat(e.questionText),type:"checkbox",onChange:e.onChange}),c.a.createElement("label",{className:"custom-control-label",htmlFor:"checkbox-".concat(e.id,"-").concat(e.questionText)},e.questionText))}function w(e){var t=e.inHouseExposureEventState.get(),n=t.exposed,a=t.ongoing;return c.a.createElement("div",{className:"mb-3"},c.a.createElement("div",{className:"custom-control custom-checkbox mb-3"},c.a.createElement("input",{className:"custom-control-input",checked:n,name:"crossExposure-".concat(e.index,"-checkbox-exposure"),id:"crossExposure-".concat(e.id,"-").concat(e.index,"-checkbox-exposure"),type:"checkbox",onChange:function(){return e.inHouseExposureEventState.exposed.set((function(e){return!e}))}}),c.a.createElement("label",{className:"custom-control-label",htmlFor:"crossExposure-".concat(e.id,"-").concat(e.index,"-checkbox-exposure")},"I was exposed to ",e.otherPerson.name)),n&&c.a.createElement("div",{className:"custom-control custom-checkbox mb-3"},c.a.createElement("input",{className:"custom-control-input",checked:a,name:"crossExposure-".concat(e.index,"-checkbox-ongoing"),id:"crossExposure-".concat(e.id,"-").concat(e.index,"-checkbox-ongoing"),type:"checkbox",onChange:function(){return e.inHouseExposureEventState.ongoing.set((function(e){return!e}))}}),c.a.createElement("label",{className:"custom-control-label",htmlFor:"crossExposure-".concat(e.id,"-").concat(e.index,"-checkbox-ongoing")},"My exposure to ",e.otherPerson.name," is ongoing")),n&&!a&&c.a.createElement(c.a.Fragment,null,c.a.createElement("label",{htmlFor:"crossExposure-".concat(e.id,"-").concat(e.index)},"Date exposed to ",e.otherPerson.name," ",c.a.createElement("span",{className:"f6 fw3"},"mm/dd/yyyy")),c.a.createElement("input",{className:"form-control",value:t.date,name:"crossExposure-".concat(e.index),id:"crossExposure-".concat(e.id,"-").concat(e.index),type:"text",onChange:function(t){return e.inHouseExposureEventState.date.set(t.target.value)}})))}function P(e){return c.a.createElement(c.a.Fragment,null,e.meaningfulInHouseExposures.map((function(t,n){var a=e.relevantInHouseExposureEventsState.find((function(e){var n=e.get();return n.quarantinedPerson===t.id||n.contagiousPerson===t.id}));return a?c.a.createElement(c.a.Fragment,null,c.a.createElement(w,{key:e.id+"-"+n,id:e.id,index:n,otherPerson:t,inHouseExposureEventState:a}),c.a.createElement("hr",null)):c.a.createElement(c.a.Fragment,null)})))}function C(e){return Math.floor(Math.random()*Math.floor(e))}function k(e){return Boolean(e.covidEvents[a.PositiveTest]||e.covidEvents[a.SymptomsStart])}function D(e){var t=e.personState.get(),n=e.membersState.get(),o=e.personState.covidEvents,s=e.editingState.get(),r=e.inHouseExposureEventsState.filter((function(e){var n=e.get();return n.contagiousPerson===t.id||n.quarantinedPerson===t.id})),i=r.map((function(e){return e.get()})),m=Object(u.b)(Object.values(a).reduce((function(e,t){return e[t]=""!==o[t].get(),e}),{})),l=m.get(),d=l[a.PositiveTest]||l[a.SymptomsStart],v=function(n,s,r){return c.a.createElement("div",{className:"mb-3"},c.a.createElement(N,{id:t.id,questionText:r,checked:m[s].get(),onChange:function(e){var t=e.target.checked;if(m[s].set(t),s===a.PositiveTest){var n=Boolean(t||l[a.SymptomsStart]);d!==n&&E(n)}else if(s===a.SymptomsStart){var c=Boolean(t||l[a.PositiveTest]);d!==c&&E(c)}t||o[s].set("")}}),m[s].get()?c.a.createElement(O,{id:t.id,questionNumber:n,questionFieldTextState:o[s],questionFieldName:s,onChange:b,onFocus:function(){e.editingDateFieldState.set(s)},onUnfocus:function(){e.editingDateFieldState.set(void 0)}}):null,c.a.createElement("hr",null))},b=function(e){var t=e.target.name,n=e.target.value;o[t].set(n)};function E(a){r.map((function(e){return e.set(u.a)}));var o=n.map((function(e){var n=k(e);if(t!==e&&a!==n)return{contagiousPerson:a?t.id:e.id,quarantinedPerson:a?e.id:t.id,exposed:!0,ongoing:!0,date:""}}));e.inHouseExposureEventsState.merge(Object(h.compact)(o))}var f=n.filter((function(e){return t!==e&&d!==k(e)}));return c.a.createElement("div",{className:"card shadow-sm mb-2"},e.editingState.get()===t.id?c.a.createElement("div",{className:"p-2"},c.a.createElement("div",{className:"mb-3"},c.a.createElement("label",{htmlFor:"".concat(t.id,"-name")},"Name"),c.a.createElement("input",{className:"form-control",value:t.name,name:"name",id:"".concat(t.id,"-name"),type:"text",onChange:function(t){return e.personState.name.set(t.target.value)}})),v(1,a.LastCloseContact,"I have been exposed to someone covid positive (outside the household)"),v(2,a.PositiveTest,"I have received a positive test result"),v(2,a.SymptomsStart,"I have shown positive symptoms"),c.a.createElement(P,{id:t.id,meaningfulInHouseExposures:f,relevantInHouseExposureEventsState:r}),c.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},c.a.createElement("button",{className:"btn btn-secondary",onClick:function(){r.map((function(e){return e.set(u.a)})),e.personState.set(u.a),e.editingState.set(void 0)}},c.a.createElement("span",{className:"visually-hidden"},"Remove"),"Remove",c.a.createElement("i",{"aria-hidden":"true",className:"pl2 fas fa-times-circle white"})),c.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.editingState.set(void 0)}},t.isNewPerson?"Submit":"Update"))):c.a.createElement("div",{className:"card-body"},c.a.createElement("h4",{className:"d-flex justify-content-between align-items-center mb-3"},c.a.createElement("span",null,t.name+" "),c.a.createElement("span",null,!s&&c.a.createElement("button",{onClick:function(){return e.editingState.set(t.id)}},c.a.createElement("span",{className:"visually-hidden"},"Edit Person"),c.a.createElement("span",{"aria-hidden":"true",className:"f5 fas fa-pen"})))),c.a.createElement("div",{className:""},Object.entries(t.covidEvents).map((function(e){var t=Object(p.a)(e,2),n=t[0],a=t[1];if(""!==a)return c.a.createElement("div",{className:"f5"},n,": "," ",a)})),Object.values(i).map((function(e){if(e.exposed){var t,a,o=null===(t=n.find((function(t){return t.id===e.quarantinedPerson})))||void 0===t?void 0:t.name,s=null===(a=n.find((function(t){return t.id===e.contagiousPerson})))||void 0===a?void 0:a.name;return e.ongoing?c.a.createElement("div",{className:"f5"},o," has an ongoing exposure to"," ",s," "):c.a.createElement("div",{className:"f5"},o," exposed to"," ",s," at ",e.date)}})))))}function F(e){var t=e.editingState.get(),n=e.membersState.get(),a=e.inHouseExposureEventsState.get();return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"p-3"},!t&&c.a.createElement("button",{className:"btn btn-primary mb-2",onClick:e.addNewPerson},c.a.createElement("i",{className:"fa fa-user-plus","aria-hidden":"true"})," Add Person"),e.membersState.map((function(t){var n=t.get().id;return c.a.createElement(D,{key:n,personState:t,membersState:e.membersState,inHouseExposureEventsState:e.inHouseExposureEventsState,editingState:e.editingState,editingDateFieldState:e.editingDateFieldState})})),c.a.createElement("hr",null),c.a.createElement("div",{className:"p-1"},c.a.createElement("h4",null,"Guidance"),y(n,a).map((function(e){if(Object(b.a)(e.startDate)&&Object(b.a)(e.endDate))return c.a.createElement("div",{className:"p32"},e.person.name," "," should quarantine from "," ",Object(S.a)(e.startDate,"MM/dd/yyyy")," until "," ",Object(S.a)(e.endDate,"MM/dd/yyyy"),".")})))))}function q(){var e,t,n=[{id:1,name:"Alice",covidEvents:(e={},Object(m.a)(e,a.LastCloseContact,"8/25/2020"),Object(m.a)(e,a.SymptomsStart,""),Object(m.a)(e,a.SymptomsEnd,""),Object(m.a)(e,a.PositiveTest,""),e),isNewPerson:!1,editing:!1},{id:2,name:"Bob",covidEvents:(t={},Object(m.a)(t,a.LastCloseContact,"8/28/2020"),Object(m.a)(t,a.SymptomsStart,""),Object(m.a)(t,a.SymptomsEnd,""),Object(m.a)(t,a.PositiveTest,""),t),isNewPerson:!1,editing:!1}],o=Object(u.b)(n),s=Object(u.b)([]),r=Object(u.b)(void 0),l=Object(u.b)(o.length+1),d=Object(u.b)(void 0);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"navbar navbar-dark bg-dark shadow-sm"},c.a.createElement("div",{className:"container d-flex justify-content-between"},c.a.createElement("a",{href:"#",className:"navbar-brand d-flex align-items-center"},c.a.createElement("strong",null,"Covid Quarantine Calculator")),c.a.createElement("div",{className:"white f7 fw5"},"This page is a work in progress. Its instructions may be incorrect. Consult"," ",c.a.createElement("a",{href:"https://multco.us/novel-coronavirus-covid-19/if-you-have-been-around-someone-covid-19"},"the MultCo website")," ","or the latest CDC guildlines for accurate Covid information."," "))),c.a.createElement("main",{className:"row"},c.a.createElement("div",{className:"col-md-5"},c.a.createElement(F,{membersState:o,inHouseExposureEventsState:s,editingState:r,editingDateFieldState:d,addNewPerson:function(){var e,t=l.get(),n={id:t,name:"Person ".concat(C(1e3)),covidEvents:(e={},Object(m.a)(e,a.LastCloseContact,""),Object(m.a)(e,a.SymptomsStart,""),Object(m.a)(e,a.SymptomsEnd,""),Object(m.a)(e,a.PositiveTest,""),e),isNewPerson:!0,editing:!0};l.set((function(e){return e+1})),o.set((function(e){return[].concat(Object(i.a)(e),[n])})),r.set(t);var c=o.get().map((function(e){if(k(e))return{contagiousPerson:e.id,quarantinedPerson:n.id,exposed:!0,ongoing:!0,date:""}}));s.merge(Object(h.compact)(c))}})),c.a.createElement("div",{className:"col-md-7"},c.a.createElement(j,{membersState:o,editing:r.get(),editingDateFieldState:d,inHouseExposureEvents:s.get()}))))}var T=document.getElementById("root");r.a.render(c.a.createElement(q,null),T)}},[[31,1,2]]]);
//# sourceMappingURL=main.b7eb7804.chunk.js.map